@tailwind base;
@tailwind components;
@tailwind utilities;

/* Importar estilos de Tabulator */
@import 'tabulator-tables/dist/css/tabulator.min.css';

/* ============================================
   TEMA DARK NEUTRAL - Variables CSS personalizadas
   Basado en Tabler Neutral Theme
   ============================================ */
/* Aplicar tema neutral base a todo el documento */
html[data-bs-theme='dark'],
body[data-bs-theme='dark'],
[data-bs-theme='dark'] {
    /* Aplicar tema base neutral de Tabler */
    --tblr-gray-50: #fafafa;
    --tblr-gray-100: #f5f5f5;
    --tblr-gray-200: #e5e5e5;
    --tblr-gray-300: #d4d4d4;
    --tblr-gray-400: #a3a3a3;
    --tblr-gray-500: #737373;
    --tblr-gray-600: #525252;
    --tblr-gray-700: #404040;
    --tblr-gray-800: #262626;
    --tblr-gray-900: #171717;
    --tblr-gray-950: #0a0a0a;
}

[data-bs-theme='dark'] {
    /* Colores base neutrales según Tabler neutral theme */
    /* Neutral gray-900: #171717, gray-800: #262626, gray-700: #404040 */
    /* Neutral gray-200: #e5e5e5, gray-300: #d4d4d4, gray-400: #a3a3a3 */
    --tblr-body-bg: #171717;
    --tblr-body-color: #e5e5e5;
    --tblr-border-color: rgba(229, 229, 229, 0.12);
    --tblr-border-color-translucent: rgba(229, 229, 229, 0.08);

    /* Cards y contenedores */
    --tblr-card-bg: #262626;
    --tblr-card-border-color: rgba(229, 229, 229, 0.12);

    /* Sidebar neutral */
    --tblr-navbar-bg: #171717;
    --tblr-navbar-color: #e5e5e5;
    --tblr-nav-link-color: rgba(229, 229, 229, 0.75);
    --tblr-nav-link-color-hover: #e5e5e5;
    --tblr-nav-link-color-active: #e5e5e5;
    --tblr-nav-link-bg-active: rgba(229, 229, 229, 0.08);
    --tblr-nav-link-bg-hover: rgba(229, 229, 229, 0.05);

    /* Topbar */
    --tblr-header-bg: #262626;
    --tblr-header-border-color: rgba(229, 229, 229, 0.12);

    /* Dropdowns */
    --tblr-dropdown-bg: #262626;
    --tblr-dropdown-color: #e5e5e5;
    --tblr-dropdown-border-color: rgba(229, 229, 229, 0.12);

    /* Inputs */
    --tblr-input-bg: rgba(229, 229, 229, 0.05);
    --tblr-input-border-color: rgba(229, 229, 229, 0.12);
    --tblr-input-color: #e5e5e5;

    /* Texto secundario */
    --tblr-text-muted: rgba(229, 229, 229, 0.6);
    --tblr-text-secondary: rgba(229, 229, 229, 0.7);
}

/* Sidebar con tema neutral - Estilos más específicos para sobrescribir Tabler */
[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral,
[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .navbar-nav,
[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral,
[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral .navbar-nav {
    background-color: #171717 !important;
    background: #171717 !important;
    color: #e5e5e5 !important;
}

[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .navbar-brand,
[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .navbar-brand-text,
[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral .navbar-brand,
[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral .navbar-brand-text {
    color: #e5e5e5 !important;
}

[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .nav-link,
[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral .nav-link {
    color: rgba(229, 229, 229, 0.75) !important;
    border-radius: 0.375rem;
    margin: 0.125rem 0.5rem;
    padding: 0.5rem 0.75rem;
    transition: all 0.2s ease;
}

[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .nav-link:hover,
[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral .nav-link:hover {
    color: #e5e5e5 !important;
    background-color: rgba(229, 229, 229, 0.05) !important;
}

[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .nav-link.active,
[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .nav-item.active > .nav-link,
[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral .nav-link.active,
[data-bs-theme='dark']
    aside.navbar.navbar-vertical.navbar-dark-neutral
    .nav-item.active
    > .nav-link {
    color: #e5e5e5 !important;
    background-color: rgba(229, 229, 229, 0.08) !important;
    font-weight: 500;
}

[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .nav-link-icon,
[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral .nav-link-icon {
    color: inherit !important;
    opacity: 0.8;
}

[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .nav-link.active .nav-link-icon,
[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .nav-item.active .nav-link-icon,
[data-bs-theme='dark']
    aside.navbar.navbar-vertical.navbar-dark-neutral
    .nav-link.active
    .nav-link-icon,
[data-bs-theme='dark']
    aside.navbar.navbar-vertical.navbar-dark-neutral
    .nav-item.active
    .nav-link-icon {
    opacity: 1;
}

[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .dropdown-menu,
[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral .dropdown-menu {
    background-color: #262626 !important;
    background: #262626 !important;
    border-color: rgba(229, 229, 229, 0.12) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
}

[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .dropdown-item,
[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral .dropdown-item {
    color: #e5e5e5 !important;
}

[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .dropdown-item:hover,
[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .dropdown-item.active,
[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral .dropdown-item:hover,
[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral .dropdown-item.active {
    background-color: rgba(229, 229, 229, 0.08) !important;
    color: #e5e5e5 !important;
}

/* Topbar neutral */
[data-bs-theme='dark'] .navbar:not(.navbar-vertical) {
    background-color: var(--tblr-header-bg, #262626) !important;
    border-bottom-color: var(--tblr-header-border-color, rgba(229, 229, 229, 0.12)) !important;
}

[data-bs-theme='dark'] .navbar:not(.navbar-vertical) .nav-link {
    color: rgba(229, 229, 229, 0.85) !important;
}

[data-bs-theme='dark'] .navbar:not(.navbar-vertical) .nav-link:hover {
    color: #e5e5e5 !important;
}

/* Cards neutrales */
[data-bs-theme='dark'] .card {
    background-color: var(--tblr-card-bg, #262626) !important;
    border-color: var(--tblr-card-border-color, rgba(229, 229, 229, 0.12)) !important;
    color: var(--tblr-body-color, #e5e5e5) !important;
}

[data-bs-theme='dark'] .card-header {
    background-color: var(--tblr-card-bg, #262626) !important;
    border-bottom-color: var(--tblr-border-color, rgba(229, 229, 229, 0.12)) !important;
    color: var(--tblr-body-color, #e5e5e5) !important;
}

[data-bs-theme='dark'] .card-footer {
    background-color: var(--tblr-card-bg, #262626) !important;
    border-top-color: var(--tblr-border-color, rgba(229, 229, 229, 0.12)) !important;
    color: var(--tblr-text-secondary, rgba(229, 229, 229, 0.7)) !important;
}

/* Inputs neutrales */
[data-bs-theme='dark'] .form-control,
[data-bs-theme='dark'] .form-select {
    background-color: var(--tblr-input-bg, rgba(229, 229, 229, 0.05)) !important;
    border-color: var(--tblr-input-border-color, rgba(229, 229, 229, 0.12)) !important;
    color: var(--tblr-input-color, #e5e5e5) !important;
}

[data-bs-theme='dark'] .form-control:focus,
[data-bs-theme='dark'] .form-select:focus {
    background-color: rgba(229, 229, 229, 0.08) !important;
    border-color: rgba(229, 229, 229, 0.2) !important;
    color: #e5e5e5 !important;
}

[data-bs-theme='dark'] .form-control::placeholder {
    color: var(--tblr-text-muted, rgba(229, 229, 229, 0.6)) !important;
}

/* Texto neutral */
[data-bs-theme='dark'] .text-secondary,
[data-bs-theme='dark'] .text-muted {
    color: var(--tblr-text-secondary, rgba(229, 229, 229, 0.7)) !important;
}

/* Body background neutral */
[data-bs-theme='dark'] body,
[data-bs-theme='dark'] .page,
html[data-bs-theme='dark'] body,
html[data-bs-theme='dark'] .page {
    background-color: #171717 !important;
    background: #171717 !important;
    color: #e5e5e5 !important;
}

[data-bs-theme='dark'] .page-wrapper,
html[data-bs-theme='dark'] .page-wrapper {
    background-color: #171717 !important;
    background: #171717 !important;
}

/* Forzar colores neutrales en el sidebar - mayor especificidad */
html[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral,
html[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral,
body[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral,
body[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral {
    background-color: #171717 !important;
    background: #171717 !important;
    color: #e5e5e5 !important;
}

html[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .navbar-nav,
html[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral .navbar-nav,
body[data-bs-theme='dark'] .navbar.navbar-vertical.navbar-dark-neutral .navbar-nav,
body[data-bs-theme='dark'] aside.navbar.navbar-vertical.navbar-dark-neutral .navbar-nav {
    background-color: #171717 !important;
    background: #171717 !important;
    color: #e5e5e5 !important;
}

/* Estilos personalizados del proyecto */
.actions-menu {
    position: relative;
    display: inline-flex;
    gap: 2px;
}

.actions-menu__toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 30px;
}

.actions-menu__dropdown {
    position: absolute;
    top: 100%;
    right: 0;
    min-width: 150px;
    background: var(--tblr-dropdown-bg, var(--tblr-card-bg, #fff));
    color: var(--tblr-dropdown-color, var(--tblr-body-color, #0f172a));
    border: 1px solid rgba(15, 23, 42, 0.15);
    border-radius: 0.5rem;
    padding: 0.25rem 0;
    margin-top: 0.2rem;
    box-shadow: 0 12px 24px rgba(15, 23, 42, 0.2);
    display: none;
    z-index: 1055;
}

.actions-menu__dropdown.show {
    display: block;
}

.actions-menu__dropdown .dropdown-item {
    width: 100%;
    background: transparent;
    border: 0;
    padding: 0.45rem 1.1rem;
    font-size: 0.85rem;
    color: inherit;
    display: flex;
    align-items: center;
    gap: 0.4rem;
    justify-content: flex-start;
}

.actions-menu__dropdown .dropdown-item i {
    font-size: 0.95rem;
    line-height: 1;
}

.actions-menu__dropdown .dropdown-item:hover {
    background-color: rgba(15, 23, 42, 0.05);
    color: inherit;
}

.pull-left {
    float: left !important;
}

.table-card {
    border-radius: 14px;
    background-color: #fdfdff;
    transition:
        background-color 0.3s ease,
        border-color 0.3s ease,
        box-shadow 0.3s ease;
}

.table-card .card-header {
    border-bottom: 1px solid rgba(120, 144, 156, 0.12);
}

.table-card .card-footer {
    border-top: 1px solid rgba(120, 144, 156, 0.12);
}

.table-card__toolbar {
    row-gap: 0.5rem;
}

.table-card__search {
    margin-left: 0.5rem;
}

.table-card .dropdown-menu {
    min-width: 220px;
}

.table-card__actions .btn,
.table-card__actions .btn-group .btn {
    display: inline-flex;
    align-items: center;
    gap: 0.3rem;
    letter-spacing: 0.2px;
}

.table-card__actions .btn i,
.table-card__actions .btn-group .btn i {
    font-size: 1rem;
}

.table-card__search .form-control {
    min-width: 230px;
    border-radius: 999px;
}

.table-card__container {
    min-height: 240px;
}

.table-card__overlay {
    position: absolute;
    inset: 0;
    background-color: rgba(255, 255, 255, 0.6);
    z-index: 5;
    transition: background-color 0.3s ease;
}

/* .areas-page,
.lugares-page,
.personal-page,
.usuario-page {
    width: 100%;
} */

@media (min-width: 992px) {
    .table-card__search {
        margin-left: auto;
    }
}

/* Estilos globales para tablas Tabulator dentro de TableCard */
.table-card .tabulator {
    border: none !important;
}

.table-card .tabulator-wrapper {
    background: transparent;
}

.table-card .tabulator-wrapper .tabulator {
    border-radius: 12px;
    overflow: hidden;
}

.table-card .tabulator-wrapper .tabulator-table {
    border: none !important;
}

.table-card .tabulator-table .tabulator-header {
    background: linear-gradient(
        180deg,
        rgba(244, 247, 252, 0.92) 0%,
        rgba(234, 239, 247, 0.92) 100%
    );
    border-bottom: none;
    font-weight: 600;
    box-shadow: inset 0 -1px 0 rgba(120, 144, 156, 0.18);
    border-radius: 10px 10px 0 0;
    overflow: hidden;
    min-height: 42px;
}

.table-card .tabulator-table .tabulator-row {
    background-color: #fbfcfe;
    border-bottom: none;
    min-height: 34px;
    padding: 0 !important;
    overflow: visible;
}

.table-card .tabulator-table .tabulator-row:nth-child(even) {
    background-color: rgba(145, 158, 171, 0.08);
}

.table-card .tabulator-table .tabulator-cell {
    font-size: 0.85rem;
    padding: 8px 12px;
    border-right: none;
    line-height: 1.4;
    overflow: hidden;
    text-overflow: ellipsis;
    position: relative;
    white-space: normal;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

.table-card .tabulator-table .tabulator-cell .dropdown-menu {
    z-index: 1055;
}

.table-card .tabulator-table .tabulator-col-content {
    padding: 6px 8px;
}

.table-card .tabulator-table .tabulator-cell:hover {
    background-color: rgba(13, 110, 253, 0.05);
}

.table-card .tabulator-table .tabulator-col {
    border-left: none !important;
    border-right: none !important;
}

.table-card .tabulator-tableholder,
.table-card .tabulator-header-locked {
    border: none !important;
}

/* ============================================
   ESTILOS PARA MODO DARK NEUTRAL DE TABULATOR
   ============================================ */

[data-bs-theme='dark'] .table-card {
    background-color: var(--tblr-card-bg, #262626);
    border-color: var(--tblr-border-color, rgba(229, 229, 229, 0.12));
}

[data-bs-theme='dark'] .table-card .card-header {
    border-bottom-color: var(--tblr-border-color, rgba(229, 229, 229, 0.12));
    background-color: var(--tblr-card-bg, #262626);
}

[data-bs-theme='dark'] .table-card .card-footer {
    border-top-color: var(--tblr-border-color, rgba(229, 229, 229, 0.12));
    background-color: var(--tblr-card-bg, #262626);
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-header {
    background: linear-gradient(
        180deg,
        rgba(38, 38, 38, 0.95) 0%,
        rgba(23, 23, 23, 0.95) 100%
    ) !important;
    border-bottom: 1px solid var(--tblr-border-color, rgba(229, 229, 229, 0.12)) !important;
    color: rgba(229, 229, 229, 0.9) !important;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-header .tabulator-col {
    background: transparent !important;
    border-right: 1px solid var(--tblr-border-color-translucent, rgba(229, 229, 229, 0.08)) !important;
    color: rgba(229, 229, 229, 0.9) !important;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-header .tabulator-col:hover {
    background-color: rgba(229, 229, 229, 0.05) !important;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-row {
    background-color: var(--tblr-card-bg, #262626) !important;
    border-bottom: 1px solid var(--tblr-border-color-translucent, rgba(229, 229, 229, 0.08)) !important;
    color: rgba(229, 229, 229, 0.85) !important;
}

/* Regla nth-child(even) comentada para evitar conflictos con otros estilos */
/* [data-bs-theme='dark'] .table-card .tabulator-table .tabulator-row:nth-child(even) {
    background-color: rgba(229, 229, 229, 0.03) !important;
} */

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-row:hover {
    background-color: rgba(229, 229, 229, 0.08) !important;
}

/* Aplicar color a todas las celdas y su contenido */
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell {
    color: rgba(229, 229, 229, 0.85) !important;
    border-right: 1px solid var(--tblr-border-color-translucent, rgba(229, 229, 229, 0.08)) !important;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell * {
    color: inherit !important;
}

/* Asegurar que el texto plano dentro de las celdas tenga el color correcto */
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell,
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell > *,
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell span:not(.badge),
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell div:not(.badge) {
    color: rgba(229, 229, 229, 0.85) !important;
}

/* Texto específico que no está dentro de badges */
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell:not(:has(.badge)) {
    color: rgba(229, 229, 229, 0.85) !important;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell:hover {
    background-color: rgba(229, 229, 229, 0.05) !important;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-col {
    border-left: 1px solid var(--tblr-border-color-translucent, rgba(229, 229, 229, 0.08)) !important;
    border-right: 1px solid var(--tblr-border-color-translucent, rgba(229, 229, 229, 0.08)) !important;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-col-content {
    color: rgba(229, 229, 229, 0.9) !important;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-col-sorter {
    color: rgba(229, 229, 229, 0.6) !important;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-col-sorter:hover {
    color: rgba(229, 229, 229, 0.9) !important;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-placeholder {
    color: rgba(229, 229, 229, 0.5) !important;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-placeholder span {
    color: rgba(229, 229, 229, 0.5) !important;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-tableholder {
    background-color: var(--tblr-card-bg, #262626) !important;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-footer {
    background-color: var(--tblr-card-bg, #262626) !important;
    border-top: 1px solid var(--tblr-border-color, rgba(229, 229, 229, 0.12)) !important;
    color: rgba(229, 229, 229, 0.85) !important;
}

[data-bs-theme='dark'] .table-card__overlay {
    background-color: rgba(23, 23, 23, 0.8) !important;
}

[data-bs-theme='dark'] .actions-menu__dropdown {
    background: var(--tblr-dropdown-bg, #262626) !important;
    color: var(--tblr-dropdown-color, rgba(229, 229, 229, 0.9)) !important;
    border-color: var(--tblr-border-color, rgba(229, 229, 229, 0.12)) !important;
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4) !important;
}

[data-bs-theme='dark'] .actions-menu__dropdown .dropdown-item {
    color: rgba(229, 229, 229, 0.85) !important;
}

[data-bs-theme='dark'] .actions-menu__dropdown .dropdown-item:hover {
    background-color: rgba(229, 229, 229, 0.1) !important;
    color: rgba(229, 229, 229, 1) !important;
}

[data-bs-theme='dark'] .actions-menu__dropdown .dropdown-item.text-danger {
    color: #ff6b6b !important;
}

[data-bs-theme='dark'] .actions-menu__dropdown .dropdown-item.text-danger:hover {
    background-color: rgba(255, 107, 107, 0.1) !important;
    color: #ff5252 !important;
}

/* Estilos adicionales para elementos dentro de las tablas en modo dark */
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .badge {
    font-weight: 600;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .btn {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .btn-primary {
    background-color: #3b82f6;
    border-color: #3b82f6;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .btn-primary:hover {
    background-color: #2563eb;
    border-color: #2563eb;
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .btn-primary:focus {
    box-shadow: 0 0 0 0.2rem rgba(59, 130, 246, 0.5);
}

/* Mejorar visibilidad de los badges en modo dark */
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .badge.bg-green-lt {
    background-color: rgba(34, 197, 94, 0.2) !important;
    color: #4ade80 !important;
    border: 1px solid rgba(34, 197, 94, 0.3);
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .badge.bg-red-lt {
    background-color: rgba(239, 68, 68, 0.2) !important;
    color: #f87171 !important;
    border: 1px solid rgba(239, 68, 68, 0.3);
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .badge.bg-orange-lt {
    background-color: rgba(249, 115, 22, 0.2) !important;
    color: #fb923c !important;
    border: 1px solid rgba(249, 115, 22, 0.3);
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .badge.bg-blue-lt {
    background-color: rgba(59, 130, 246, 0.2) !important;
    color: #60a5fa !important;
    border: 1px solid rgba(59, 130, 246, 0.3);
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .badge.bg-gray-lt,
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .badge.text-secondary {
    background-color: rgba(148, 163, 184, 0.2) !important;
    color: #cbd5e1 !important;
    border: 1px solid rgba(148, 163, 184, 0.3);
}

[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .badge.bg-warning {
    background-color: rgba(251, 191, 36, 0.2) !important;
    color: #fbbf24 !important;
    border: 1px solid rgba(251, 191, 36, 0.3);
}

/* Mejorar contraste del texto en modo dark - aplicar a todo el contenido */
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Forzar color en todas las filas sin excepción */
[data-bs-theme='dark'] .table-card .tabulator .tabulator-table .tabulator-row .tabulator-cell {
    color: rgba(229, 229, 229, 0.85) !important;
}

/* Aplicar a elementos específicos dentro de las celdas */
[data-bs-theme='dark'] .table-card .tabulator .tabulator-table .tabulator-row .tabulator-cell p,
[data-bs-theme='dark']
    .table-card
    .tabulator
    .tabulator-table
    .tabulator-row
    .tabulator-cell
    div:not(.badge):not(.btn-group),
[data-bs-theme='dark']
    .table-card
    .tabulator
    .tabulator-table
    .tabulator-row
    .tabulator-cell
    span:not(.badge) {
    color: rgba(229, 229, 229, 0.85) !important;
}

/* Asegurar que el texto directo en las celdas tenga el color correcto */
[data-bs-theme='dark'] .table-card .tabulator .tabulator-table .tabulator-row .tabulator-cell {
    --tabulator-cell-color: rgba(229, 229, 229, 0.85) !important;
}

/* Estilos más específicos para texto que puede estar desvanecido */
[data-bs-theme='dark']
    .table-card
    .tabulator-table
    .tabulator-row
    .tabulator-cell[style*='opacity'],
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-row .tabulator-cell[style*='color'] {
    color: rgba(229, 229, 229, 0.85) !important;
    opacity: 1 !important;
}

/* Forzar estilos en todas las variantes posibles de filas */
[data-bs-theme='dark'] .table-card .tabulator-tableholder .tabulator-table .tabulator-row,
[data-bs-theme='dark']
    .table-card
    .tabulator
    .tabulator-tableholder
    .tabulator-table
    .tabulator-row {
    color: rgba(229, 229, 229, 0.85) !important;
}

[data-bs-theme='dark']
    .table-card
    .tabulator-tableholder
    .tabulator-table
    .tabulator-row
    .tabulator-cell,
[data-bs-theme='dark']
    .table-card
    .tabulator
    .tabulator-tableholder
    .tabulator-table
    .tabulator-row
    .tabulator-cell {
    color: rgba(229, 229, 229, 0.85) !important;
}

/* Aplicar a contenido renderizado por formatters */
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .tabulator-cell-content,
[data-bs-theme='dark']
    .table-card
    .tabulator-table
    .tabulator-cell
    .tabulator-cell-content
    *:not(.badge):not(.btn) {
    color: rgba(229, 229, 229, 0.85) !important;
}

/* Asegurar que el texto HTML renderizado tenga el color correcto */
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell .tabulator-cell-content > * {
    color: rgba(229, 229, 229, 0.85) !important;
}

/* Resetear cualquier opacidad que pueda estar aplicada */
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-row[style*='opacity'],
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-cell[style*='opacity'] {
    opacity: 1 !important;
}

/* Aplicar a todas las filas sin importar su estado */
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-row.tabulator-row-even,
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-row.tabulator-row-odd,
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-row.tabulator-selectable,
[data-bs-theme='dark'] .table-card .tabulator-table .tabulator-row.tabulator-selected {
    color: rgba(229, 229, 229, 0.85) !important;
}

[data-bs-theme='dark']
    .table-card
    .tabulator-table
    .tabulator-row.tabulator-row-even
    .tabulator-cell,
[data-bs-theme='dark']
    .table-card
    .tabulator-table
    .tabulator-row.tabulator-row-odd
    .tabulator-cell,
[data-bs-theme='dark']
    .table-card
    .tabulator-table
    .tabulator-row.tabulator-selectable
    .tabulator-cell,
[data-bs-theme='dark']
    .table-card
    .tabulator-table
    .tabulator-row.tabulator-selected
    .tabulator-cell {
    color: rgba(229, 229, 229, 0.85) !important;
}

/* Regla global más agresiva para todas las celdas en modo dark */
[data-bs-theme='dark']
    .table-card
    .tabulator-wrapper
    .tabulator
    .tabulator-tableholder
    .tabulator-table
    .tabulator-row
    .tabulator-cell,
[data-bs-theme='dark']
    .table-card
    .tabulator-wrapper
    .tabulator
    .tabulator-table
    .tabulator-row
    .tabulator-cell {
    color: rgba(229, 229, 229, 0.85) !important;
}

/* Aplicar a todo el contenido de texto dentro de las celdas */
[data-bs-theme='dark']
    .table-card
    .tabulator-wrapper
    .tabulator
    .tabulator-tableholder
    .tabulator-table
    .tabulator-row
    .tabulator-cell,
[data-bs-theme='dark']
    .table-card
    .tabulator-wrapper
    .tabulator
    .tabulator-table
    .tabulator-row
    .tabulator-cell {
    --tabulator-text-color: rgba(229, 229, 229, 0.85) !important;
}

/* Sobrescribir cualquier estilo inline que pueda estar aplicado */
[data-bs-theme='dark']
    .table-card
    .tabulator
    .tabulator-table
    .tabulator-row
    .tabulator-cell[style] {
    color: rgba(229, 229, 229, 0.85) !important;
}

/* Aplicar a elementos específicos que pueden tener su propio color */
[data-bs-theme='dark']
    .table-card
    .tabulator
    .tabulator-table
    .tabulator-row
    .tabulator-cell:not(:has(.badge)):not(:has(.btn)) {
    color: rgba(229, 229, 229, 0.85) !important;
}

/* Forzar color en texto que puede estar dentro de divs o spans */
[data-bs-theme='dark']
    .table-card
    .tabulator
    .tabulator-table
    .tabulator-row
    .tabulator-cell
    > div:not(.badge):not(.btn-group),
[data-bs-theme='dark']
    .table-card
    .tabulator
    .tabulator-table
    .tabulator-row
    .tabulator-cell
    > span:not(.badge) {
    color: rgba(229, 229, 229, 0.85) !important;
}

/* Estilos para el toolbar en modo dark */
[data-bs-theme='dark'] .table-card__header {
    background-color: var(--tblr-card-bg, #262626) !important;
}

[data-bs-theme='dark'] .table-card__footer {
    background-color: var(--tblr-card-bg, #262626) !important;
    color: rgba(229, 229, 229, 0.7) !important;
}

/* Mejorar visibilidad de los botones en modo dark */
[data-bs-theme='dark'] .table-card__actions .btn-outline-secondary {
    border-color: var(--tblr-border-color, rgba(229, 229, 229, 0.12)) !important;
    color: rgba(229, 229, 229, 0.85) !important;
}

[data-bs-theme='dark'] .table-card__actions .btn-outline-secondary:hover {
    background-color: rgba(229, 229, 229, 0.1) !important;
    border-color: rgba(229, 229, 229, 0.2) !important;
    color: rgba(229, 229, 229, 1) !important;
}

/* Mejorar visibilidad del input de búsqueda en modo dark */
[data-bs-theme='dark'] .table-card__search .form-control {
    background-color: var(--tblr-input-bg, rgba(229, 229, 229, 0.05)) !important;
    border-color: var(--tblr-input-border-color, rgba(229, 229, 229, 0.12)) !important;
    color: rgba(229, 229, 229, 0.9) !important;
}

[data-bs-theme='dark'] .table-card__search .form-control:focus {
    background-color: rgba(229, 229, 229, 0.08) !important;
    border-color: rgba(229, 229, 229, 0.2) !important;
    color: rgba(229, 229, 229, 1) !important;
    box-shadow: 0 0 0 0.2rem rgba(229, 229, 229, 0.15) !important;
}

[data-bs-theme='dark'] .table-card__search .form-control::placeholder {
    color: var(--tblr-text-muted, rgba(229, 229, 229, 0.6)) !important;
}

[data-bs-theme='dark'] .table-card__search .input-icon-addon {
    color: rgba(229, 229, 229, 0.6) !important;
}

/* Mejorar dropdown de columnas en modo dark */
[data-bs-theme='dark'] .table-card .dropdown-menu {
    background-color: var(--tblr-dropdown-bg, #262626) !important;
    border-color: var(--tblr-dropdown-border-color, rgba(229, 229, 229, 0.12)) !important;
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4) !important;
}

[data-bs-theme='dark'] .table-card .dropdown-menu .dropdown-item {
    color: rgba(229, 229, 229, 0.85) !important;
}

[data-bs-theme='dark'] .table-card .dropdown-menu .dropdown-item:hover {
    background-color: rgba(229, 229, 229, 0.1) !important;
    color: rgba(229, 229, 229, 1) !important;
}

.actions-menu__dropdown {
    position: absolute !important;
    z-index: 9999 !important;
}

.tabulator-row .tabulator-cell {
    overflow: visible !important;
}
